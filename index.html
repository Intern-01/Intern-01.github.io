<html>
  <head>
    <title>Locomote</title>
    <style type="text/css">
      #player {
        width: 320px;
        height: 240px;
      }
    </style>
    <script src="locomote.js"></script>
    <script src="http://code.jquery.com/jquery-2.1.1.min.js"></script>
    <script type="text/javascript">
		var locomote;
      $(document).ready(function() {
		console.log('starting this function');
        /* Load SWF and instantiate Locomote */
        locomote = new Locomote('player', 'Player.swf');
		
		// It appears the it did not reach apiReady because Player.swf is not loaded!
		//locomote.play('rtsp://admin:passw0rd@10.211.9.92','http://admin:passw0rd@10.211.9.92:80/Streaming/channels/2/httppreview');
		//setTimeout(playLocomote,1000);
		
        /* Set up a listener for when the API is ready to be used */
        locomote.on('apiReady', function() {
          console.log('API is ready. `play` can now be called');

          /* Tell Locomote to play the specified media */
          locomote.play('httpm://plazacam.studentaffairs.duke.edu/mjpg/video.mjpg');
        });

        /* Start listening for streamStarted event */
        locomote.on('streamStarted', function() {
          console.log('stream has started');
        });

        /* If any error occurs, we should take action */
        locomote.on('error', function(err) {
          console.log(err);
        });
      });
    </script>
  </head>
  <body>
    <div id="player" class="player"></div>
  </body>
</html>